<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>data from server</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
    <h1>Data from server</h1>

    <form id="formid" onsubmit="return false;">
        <div>
            <span>ID : </span>
            <input type="text" id="id" name="name">
        </div>
        <div>
            <span>PASSWORD :</span>
            <input type="password" id="password" name="password">
        </div>
        <div>
            <button onClick="main()">Log-in</button>
        </div>
        <div id="contents"></div>
        <div id="contents2"></div>
    </form>



<script>
    function main(){
        let id = $("#id").val();
        let password = $("#password").val();

        let url = "https://webtest.ubaseinternational.com/hypertexERP/api/profile/employee/detail";
        let formData = new FormData();
        formData.append("id",id);
        formData.append("password",password);
        request(url, formData, response);

    }
    function request(url, data, callbackSuccess, callbackError){
        $.ajax({
            url : url,
            data : data,
            type: 'POST',
            enctype: 'multipart/form-data',
            acceptCharset: "UTF-8",
            crossDomain: true,
            processData : false,
            contentType : false,
            dataType : "json",

            success : function(result){
                console.log(`>>> success `);
                callbackSuccess(result);
            },
            error : function(err){
                console.log(`>>> error `);
            }
        })
    }
    function response(data){
        // let data2 = {
        // "DeptNameKor": "IT/생산운영기획",
        // "DeptNameEng": "IT/Production Operation & Planning",
        // "EmployCode": "20190042",
        // "UserId": "riosung",
        // "NameKor": "성경식",
        // "NameEng": "Rio Sung"
        // };
        const employee = data.data;
        $("#contents").html(employee.NameKor);
        console.log(`>>> employee.NameKor  : ${employee.NameKor}`);
        $("#contents2").html(employee.DeptNameKor) ;
        console.log(`>>> employee.DeptNameKor  : ${employee.DeptNameKor}`);
    }

</script>
</body>
</html>